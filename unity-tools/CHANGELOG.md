# Unity Tools 更新履歴

## [2.0.0] - 2025-06-05

### 🚀 新機能
- **LLM Agent対応**: Agent向けの専用APIを追加
- **JSON出力**: 構造化データでの結果出力
- **シンプル出力**: SUCCESS/FAILEDの簡潔な出力
- **Agent推奨コマンド**: `--check`, `--trigger`, `--json`, `--simple`

### 🛡️ 安全性向上
- **危険機能削除**: Unity強制終了オプション（`-q, --quit`）を完全削除
- **自動フォールバック**: バッチモードが自動的に安全モードに切り替わる
- **非破壊的動作**: Unityエディターを終了させることがない設計

### 🤖 LLM Agent対応
- **自動モードデフォルト**: ユーザーへの問い合わせを排除
- **構造化エラー情報**: JSON形式での詳細なエラー情報
- **明確な戻り値**: 0=成功, 1=エラー, 2=実行失敗

### 📋 改善
- **出力制御**: JSON/Simpleモード時の進捗メッセージ抑制
- **エラーハンドリング**: より詳細で一貫性のあるエラー報告
- **ドキュメント強化**: 完全なAPI仕様書と使用ガイド

### 🔧 技術的変更
- 新しい出力関数: `output_json_result()`, `output_simple_result()`
- 改良されたエラー検出ロジック
- Unity検出の改善

---

## [1.5.0] - 2025-06-05

### 🛡️ 安全性向上
- **quit機能の非推奨化**: Unity終了機能に警告を追加
- **安全性警告**: 危険な操作前の明示的な警告
- **フォールバック機能**: 危険な操作の代替手段を提供

### 🔧 改善
- より明確なヘルプメッセージ
- ログ解析の精度向上
- エラーメッセージの改善

---

## [1.0.0] - 2025-06-05初期リリース

### ✨ 基本機能
- **Unity自動検出**: プロジェクト固有のUnityバージョンを自動選択
- **コンパイルエラーチェック**: Editor.logの解析によるエラー検出
- **複数ログ対応**: Editor.log, Console.log, AssetImportWorker.log
- **エラーパターン検出**: C#コンパイルエラー、ファイル位置、一般エラー

### 🎯 コア機能
- **エディターログモード**: 安全なログファイルのみの確認
- **バッチモード**: Unity実行によるコンパイルチェック
- **強制コンパイル**: AppleScript経由でのUnity操作
- **詳細ログ**: verboseモードでの完全ログ表示

### 🔧 オプション
- `-e, --editor-only`: エディターログのみをチェック
- `-v, --verbose`: 詳細ログを表示
- `-t, --trigger-compile`: Unity側でコンパイルをトリガー
- `-b, --batch-mode`: バッチモードでUnityを実行
- `-q, --quit`: Unity エディターを強制終了（後に削除）

### 🛠️ 技術仕様
- **プラットフォーム**: macOS対応（Linux部分対応）
- **依存関係**: Bash, grep, sed, osascript
- **Unity対応**: 全バージョン
- **パフォーマンス**: 高速なログ解析

---

## 今後の予定

### v3.0.0 (計画中)
- **WebHook対応**: エラー検出時の自動通知機能
- **メトリクス収集**: コンパイル時間やエラー統計の蓄積
- **プラグインシステム**: カスタムエラーパターンの追加
- **REST API**: HTTP経由でのアクセス
- **リアルタイム監視**: ファイル変更の自動検出

### v2.1.0 (近日予定)
- **Windows対応**: PowerShell版の提供
- **設定ファイル**: プロジェクト固有の設定
- **並列処理**: 複数プロジェクトの同時チェック
- **キャッシュ機能**: 高速化のための結果キャッシュ

---

## 移行ガイド

### v1.x → v2.0
1. **`-q`オプションの削除**: Unity終了が必要な場合は手動で実行
2. **Agent API使用**: 新しい`--check`, `--json`等のオプションを推奨
3. **戻り値の活用**: exit codeによる処理分岐を推奨

### 破壊的変更
- **v2.0**: `-q, --quit`オプションの完全削除
- **v1.5**: quit機能の非推奨警告

### 下位互換性
- v1.0の基本オプション（`-e`, `-v`, `-t`, `-b`）は継続サポート
- 既存スクリプトは修正なしで動作（quitオプション除く）